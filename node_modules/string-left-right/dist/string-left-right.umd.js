/**
 * @name string-left-right
 * @fileoverview Looks up the first non-whitespace character to the left/right of a given index
 * @version 6.0.9
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-left-right/}
 */

"use strict";var stringLeftRight=(()=>{var ut=Object.create;var C=Object.defineProperty;var st=Object.getOwnPropertyDescriptor;var at=Object.getOwnPropertyNames,fe=Object.getOwnPropertySymbols,ct=Object.getPrototypeOf,he=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var ge=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))he.call(t,n)&&ge(e,n,t[n]);if(fe)for(var n of fe(t))ft.call(t,n)&&ge(e,n,t[n]);return e};var gt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ht=(e,t)=>{for(var n in t)C(e,n,{get:t[n],enumerable:!0})},pe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of at(t))!he.call(e,o)&&o!==n&&C(e,o,{get:()=>t[o],enumerable:!(r=st(t,o))||r.enumerable});return e};var pt=(e,t,n)=>(n=e!=null?ut(ct(e)):{},pe(t||!e||!e.__esModule?C(n,"default",{value:e,enumerable:!0}):n,e)),mt=e=>pe(C({},"__esModule",{value:!0}),e);var nt=gt((I,_)=>{var bt=200,Te="__lodash_hash_undefined__",ve=9007199254740991,te="[object Arguments]",dt="[object Array]",Ae="[object Boolean]",Ne="[object Date]",$t="[object Error]",ne="[object Function]",Ve="[object GeneratorFunction]",F="[object Map]",Re="[object Number]",re="[object Object]",me="[object Promise]",Ce="[object RegExp]",U="[object Set]",Ie="[object String]",je="[object Symbol]",Q="[object WeakMap]",Le="[object ArrayBuffer]",x="[object DataView]",Fe="[object Float32Array]",Ue="[object Float64Array]",xe="[object Int8Array]",Je="[object Int16Array]",Me="[object Int32Array]",Be="[object Uint8Array]",Pe="[object Uint8ClampedArray]",qe="[object Uint16Array]",ke="[object Uint32Array]",yt=/[\\^$.*+?()[\]{}|]/g,Et=/\w*$/,St=/^\[object .+?Constructor\]$/,wt=/^(?:0|[1-9]\d*)$/,s={};s[te]=s[dt]=s[Le]=s[x]=s[Ae]=s[Ne]=s[Fe]=s[Ue]=s[xe]=s[Je]=s[Me]=s[F]=s[Re]=s[re]=s[Ce]=s[U]=s[Ie]=s[je]=s[Be]=s[Pe]=s[qe]=s[ke]=!0;s[$t]=s[ne]=s[Q]=!1;var Dt=typeof global=="object"&&global&&global.Object===Object&&global,Ot=typeof self=="object"&&self&&self.Object===Object&&self,m=Dt||Ot||Function("return this")(),He=typeof I=="object"&&I&&!I.nodeType&&I,be=He&&typeof _=="object"&&_&&!_.nodeType&&_,_t=be&&be.exports===He;function Tt(e,t){return e.set(t[0],t[1]),e}function vt(e,t){return e.add(t),e}function At(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function Nt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ge(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Vt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e,t){return e==null?void 0:e[t]}function We(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(n){}return t}function de(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function oe(e,t){return function(n){return e(t(n))}}function $e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Ct=Array.prototype,It=Function.prototype,J=Object.prototype,K=m["__core-js_shared__"],ye=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ke=It.toString,$=J.hasOwnProperty,M=J.toString,jt=RegExp("^"+Ke.call($).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=_t?m.Buffer:void 0,Se=m.Symbol,we=m.Uint8Array,Lt=oe(Object.getPrototypeOf,Object),Ft=Object.create,Ut=J.propertyIsEnumerable,xt=Ct.splice,De=Object.getOwnPropertySymbols,Jt=Ee?Ee.isBuffer:void 0,Mt=oe(Object.keys,Object),Z=A(m,"DataView"),j=A(m,"Map"),Y=A(m,"Promise"),X=A(m,"Set"),z=A(m,"WeakMap"),L=A(Object,"create"),Bt=w(Z),Pt=w(j),qt=w(Y),kt=w(X),Ht=w(z),Oe=Se?Se.prototype:void 0,_e=Oe?Oe.valueOf:void 0;function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gt(){this.__data__=L?L(null):{}}function Wt(e){return this.has(e)&&delete this.__data__[e]}function Kt(e){var t=this.__data__;if(L){var n=t[e];return n===Te?void 0:n}return $.call(t,e)?t[e]:void 0}function Qt(e){var t=this.__data__;return L?t[e]!==void 0:$.call(t,e)}function Zt(e,t){var n=this.__data__;return n[e]=L&&t===void 0?Te:t,this}S.prototype.clear=Gt;S.prototype.delete=Wt;S.prototype.get=Kt;S.prototype.has=Qt;S.prototype.set=Zt;function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yt(){this.__data__=[]}function Xt(e){var t=this.__data__,n=B(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():xt.call(t,n,1),!0}function zt(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]}function en(e){return B(this.__data__,e)>-1}function tn(e,t){var n=this.__data__,r=B(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}b.prototype.clear=Yt;b.prototype.delete=Xt;b.prototype.get=zt;b.prototype.has=en;b.prototype.set=tn;function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nn(){this.__data__={hash:new S,map:new(j||b),string:new S}}function rn(e){return P(this,e).delete(e)}function on(e){return P(this,e).get(e)}function ln(e){return P(this,e).has(e)}function un(e,t){return P(this,e).set(e,t),this}T.prototype.clear=nn;T.prototype.delete=rn;T.prototype.get=on;T.prototype.has=ln;T.prototype.set=un;function v(e){this.__data__=new b(e)}function sn(){this.__data__=new b}function an(e){return this.__data__.delete(e)}function cn(e){return this.__data__.get(e)}function fn(e){return this.__data__.has(e)}function gn(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!j||r.length<bt-1)return r.push([e,t]),this;n=this.__data__=new T(r)}return n.set(e,t),this}v.prototype.clear=sn;v.prototype.delete=an;v.prototype.get=cn;v.prototype.has=fn;v.prototype.set=gn;function hn(e,t){var n=ie(e)||Un(e)?Vt(e.length,String):[],r=n.length,o=!!r;for(var i in e)(t||$.call(e,i))&&!(o&&(i=="length"||In(i,r)))&&n.push(i);return n}function Qe(e,t,n){var r=e[t];(!($.call(e,t)&&ze(r,n))||n===void 0&&!(t in e))&&(e[t]=n)}function B(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function pn(e,t){return e&&Ze(t,ue(t),e)}function ee(e,t,n,r,o,i,l){var c;if(r&&(c=i?r(e,o,i,l):r(e)),c!==void 0)return c;if(!q(e))return e;var h=ie(e);if(h){if(c=Vn(e),!t)return vn(e,c)}else{var u=E(e),a=u==ne||u==Ve;if(Jn(e))return En(e,t);if(u==re||u==te||a&&!i){if(We(e))return i?e:{};if(c=Rn(a?{}:e),!t)return An(e,pn(c,e))}else{if(!s[u])return i?e:{};c=Cn(e,u,ee,t)}}l||(l=new v);var g=l.get(e);if(g)return g;if(l.set(e,c),!h)var D=n?Nn(e):ue(e);return At(D||e,function(R,f){D&&(f=R,R=e[f]),Qe(c,f,ee(R,t,n,r,f,e,l))}),c}function mn(e){return q(e)?Ft(e):{}}function bn(e,t,n){var r=t(e);return ie(e)?r:Nt(r,n(e))}function dn(e){return M.call(e)}function $n(e){if(!q(e)||Ln(e))return!1;var t=tt(e)||We(e)?jt:St;return t.test(w(e))}function yn(e){if(!Xe(e))return Mt(e);var t=[];for(var n in Object(e))$.call(e,n)&&n!="constructor"&&t.push(n);return t}function En(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function le(e){var t=new e.constructor(e.byteLength);return new we(t).set(new we(e)),t}function Sn(e,t){var n=t?le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function wn(e,t,n){var r=t?n(de(e),!0):de(e);return Ge(r,Tt,new e.constructor)}function Dn(e){var t=new e.constructor(e.source,Et.exec(e));return t.lastIndex=e.lastIndex,t}function On(e,t,n){var r=t?n($e(e),!0):$e(e);return Ge(r,vt,new e.constructor)}function _n(e){return _e?Object(_e.call(e)):{}}function Tn(e,t){var n=t?le(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function vn(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Ze(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var l=t[o],c=r?r(n[l],e[l],l,n,e):void 0;Qe(n,l,c===void 0?e[l]:c)}return n}function An(e,t){return Ze(e,Ye(e),t)}function Nn(e){return bn(e,ue,Ye)}function P(e,t){var n=e.__data__;return jn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function A(e,t){var n=Rt(e,t);return $n(n)?n:void 0}var Ye=De?oe(De,Object):Pn,E=dn;(Z&&E(new Z(new ArrayBuffer(1)))!=x||j&&E(new j)!=F||Y&&E(Y.resolve())!=me||X&&E(new X)!=U||z&&E(new z)!=Q)&&(E=function(e){var t=M.call(e),n=t==re?e.constructor:void 0,r=n?w(n):void 0;if(r)switch(r){case Bt:return x;case Pt:return F;case qt:return me;case kt:return U;case Ht:return Q}return t});function Vn(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&$.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Rn(e){return typeof e.constructor=="function"&&!Xe(e)?mn(Lt(e)):{}}function Cn(e,t,n,r){var o=e.constructor;switch(t){case Le:return le(e);case Ae:case Ne:return new o(+e);case x:return Sn(e,r);case Fe:case Ue:case xe:case Je:case Me:case Be:case Pe:case qe:case ke:return Tn(e,r);case F:return wn(e,r,n);case Re:case Ie:return new o(e);case Ce:return Dn(e);case U:return On(e,r,n);case je:return _n(e)}}function In(e,t){return t=t==null?ve:t,!!t&&(typeof e=="number"||wt.test(e))&&e>-1&&e%1==0&&e<t}function jn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ln(e){return!!ye&&ye in e}function Xe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||J;return e===n}function w(e){if(e!=null){try{return Ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fn(e){return ee(e,!0,!0)}function ze(e,t){return e===t||e!==e&&t!==t}function Un(e){return xn(e)&&$.call(e,"callee")&&(!Ut.call(e,"callee")||M.call(e)==te)}var ie=Array.isArray;function et(e){return e!=null&&Mn(e.length)&&!tt(e)}function xn(e){return Bn(e)&&et(e)}var Jn=Jt||qn;function tt(e){var t=q(e)?M.call(e):"";return t==ne||t==Ve}function Mn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ve}function q(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Bn(e){return!!e&&typeof e=="object"}function ue(e){return et(e)?hn(e):yn(e)}function Pn(){return[]}function qn(){return!1}_.exports=Fn});var zn={};ht(zn,{chompLeft:()=>Yn,chompRight:()=>Xn,left:()=>H,leftSeq:()=>lt,leftStopAtNewLines:()=>Qn,leftStopAtRawNbsp:()=>Zn,right:()=>k,rightSeq:()=>it,rightStopAtNewLines:()=>Wn,rightStopAtRawNbsp:()=>Kn,version:()=>Hn});function y(e){if(e==null||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null?!1:!(Symbol.iterator in e)&&!(Symbol.toStringTag in e)}function O(e){return typeof e=="string"}function W(e){return Number.isSafeInteger(e)&&e>=0}var d=pt(nt(),1);var rt="6.0.9";var Hn=rt,N="\xA0";function Gn(e){let t={value:e,hungry:!1,optional:!1};return(t.value.endsWith("?*")||t.value.endsWith("*?"))&&t.value.length>2?(t.value=t.value.slice(0,t.value.length-2),t.optional=!0,t.hungry=!0):t.value.endsWith("?")&&t.value.length>1?(t.value=t.value.slice(0,~-t.value.length),t.optional=!0):t.value.endsWith("*")&&t.value.length>1&&(t.value=t.value.slice(0,~-t.value.length),t.hungry=!0),t}function se({str:e,idx:t=0,stopAtNewlines:n=!1,stopAtRawNbsp:r=!1}){if(typeof e!="string"||!e.length||((!t||typeof t!="number")&&(t=0),!e[t+1]))return null;if(e[t+1]&&(e[t+1].trim()||n&&`
\r`.includes(e[t+1])||r&&e[t+1]===N))return t+1;if(e[t+2]&&(e[t+2].trim()||n&&`
\r`.includes(e[t+2])||r&&e[t+2]===N))return t+2;for(let o=t+1,i=e.length;o<i;o++)if(e[o].trim()||n&&`
\r`.includes(e[o])||r&&e[o]===N)return o;return null}function k(e,t=0){return se({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function Wn(e,t){return se({str:e,idx:t,stopAtNewlines:!0,stopAtRawNbsp:!1})}function Kn(e,t){return se({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!0})}function ae({str:e,idx:t,stopAtNewlines:n,stopAtRawNbsp:r}){if(typeof e!="string"||!e.length||((!t||typeof t!="number")&&(t=0),t<1))return null;if(e[~-t]&&(e[~-t].trim()||n&&`
\r`.includes(e[~-t])||r&&e[~-t]===N))return~-t;if(e[t-2]&&(e[t-2].trim()||n&&`
\r`.includes(e[t-2])||r&&e[t-2]===N))return t-2;for(let o=t;o--;)if(e[o]&&(e[o].trim()||n&&`
\r`.includes(e[o])||r&&e[o]===N))return o;return null}function H(e,t=0){return ae({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function Qn(e,t){return ae({str:e,idx:t,stopAtNewlines:!0,stopAtRawNbsp:!1})}function Zn(e,t){return ae({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!0})}function ot(e,t,n,r,o){if(typeof t!="string"||!t.length||(typeof n!="number"&&(n=0),e==="right"&&!t[n+1]||e==="left"&&!t[~-n]))return null;let i=n,l=[],c,h,u,a=0;for(;a<o.length;){if(!O(o[a])||!o[a].length){a+=1;continue}let{value:g,optional:D,hungry:R}=Gn(o[a]),f=e==="right"?k(t,i):H(t,i);if(r.i&&t[f].toLowerCase()===g.toLowerCase()||!r.i&&t[f]===g){let ce=e==="right"?k(t,f):H(t,f);R&&(r.i&&t[ce].toLowerCase()===g.toLowerCase()||!r.i&&t[ce]===g)?u=!0:a+=1,typeof f=="number"&&e==="right"&&f>i+1?l.push([i+1,f]):e==="left"&&typeof f=="number"&&f<~-i&&l.unshift([f+1,i]),i=f,e==="right"?(c===void 0&&(c=f),h=f):(h===void 0&&(h=f),c=f)}else if(D){a+=1;continue}else if(u){a+=1,u=void 0;continue}else return null}return c===void 0||h===void 0?null:{gaps:l,leftmostChar:c,rightmostChar:h}}var G={i:!1};function lt(e,t,...n){if(!(n!=null&&n.length))throw new Error("string-left-right/leftSeq(): only two input arguments were passed! Did you intend to use left() method instead?");let r;return y(n[0])?r=p(p({},G),n.shift()):r=G,ot("left",e,t,r,Array.from(n).reverse())}function it(e,t,...n){if(!(n!=null&&n.length))throw new Error("string-left-right/rightSeq(): only two input arguments were passed! Did you intend to use right() method instead?");let r;return y(n[0])?r=p(p({},G),n.shift()):r=G,ot("right",e,t,r,n)}function V(e,t,n,r,o=[]){var h;if(typeof t!="string"||!t.length||((!n||typeof n!="number")&&(n=0),e==="right"&&!t[n+1]||e==="left"&&+n==0))return null;let i=null,l=null;do i=e==="right"?it(t,typeof l=="number"?l:n,...o):lt(t,typeof l=="number"?l:n,...o),i!==null&&(l=e==="right"?i.rightmostChar:i.leftmostChar);while(i);if(l!=null&&e==="right"&&(l+=1),l===null)return null;if(e==="right"){if((h=t[l])!=null&&h.trim())return l;let u=k(t,l);if(!r||r.mode===0){if(u===l+1)return l;if(t.slice(l,u||t.length).trim()||t.slice(l,u||t.length).includes(`
`)||t.slice(l,u||t.length).includes("\r")){for(let a=l,g=t.length;a<g;a++)if(`
\r`.includes(t[a]))return a}else return u?~-u:t.length}else{if(r.mode===1)return l;if(r.mode===2){let a=t.slice(l);if(a.trim()||a.includes(`
`)||a.includes("\r")){for(let g=l,D=t.length;g<D;g++)if(t[g].trim()||`
\r`.includes(t[g]))return g}return t.length}}return u||t.length}if(t[l]&&t[~-l]&&t[~-l].trim())return l;let c=H(t,l);if(!r||r.mode===0){if(c===l-2)return l;if(t.slice(0,l).trim()||t.slice(0,l).includes(`
`)||t.slice(0,l).includes("\r")){for(let u=l;u--;)if(`
\r`.includes(t[u])||t[u].trim())return u+1+(t[u].trim()?1:0)}return 0}if(r.mode===1)return l;if(r.mode===2){let u=t.slice(0,l);if(u.trim()||u.includes(`
`)||u.includes("\r")){for(let a=l;a--;)if(t[a].trim()||`
\r`.includes(t[a]))return a+1}return 0}return c!==null?c+1:0}function Yn(e,t,...n){if(!n.length||n.length===1&&y(n[0]))return null;let r={mode:0};if(y(n[0])){let o=p(p({},r),(0,d.default)(n[0]));if(!o.mode)o.mode=0;else if(O(o.mode)&&o.mode.length===1&&"0123".includes(o.mode))o.mode=+o.mode;else if(!W(o.mode))throw new Error(`string-left-right/chompLeft(): [THROW_ID_01] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ${o.mode} (type ${typeof o.mode})`);return V("left",e,t,o,(0,d.default)(n).slice(1))}return O(n[0])?V("left",e,t,r,(0,d.default)(n)):V("left",e,t,r,(0,d.default)(n).slice(1))}function Xn(e,t,...n){if(!n.length||n.length===1&&y(n[0]))return null;let r={mode:0};if(y(n[0])){let o=p(p({},r),(0,d.default)(n[0]));if(!o.mode)o.mode=0;else if(O(o.mode)&&"0123".includes(o.mode))o.mode=Number.parseInt(o.mode,10);else if(!W(o.mode))throw new Error(`string-left-right/chompRight(): [THROW_ID_02] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ${o.mode} (type ${typeof o.mode})`);return V("right",e,t,o,(0,d.default)(n).slice(1))}return O(n[0])?V("right",e,t,r,(0,d.default)(n)):V("right",e,t,r,(0,d.default)(n).slice(1))}return mt(zn);})();
/**
 * @name codsen-utils
 * @fileoverview Various utility functions
 * @version 1.3.0
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/codsen-utils/}
 */
